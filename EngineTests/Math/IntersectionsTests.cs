// <copyright file="IntersectionsTests.cs" >
//     Copyright (c) 2005 - 2016 Shkyrockett. All rights reserved.
// </copyright>
// <license>
//     Licensed under the MIT License. See LICENSE file in the project root for full license information.
// </license>
// <author id="shkyrockett">Shkyrockett</author>
// <summary></summary>

using Microsoft.VisualStudio.TestTools.UnitTesting;
using System;
using System.Collections.Generic;

namespace Engine.Tests
{
    /// <summary>
    /// 
    /// </summary>
    [TestClass()]
    public class IntersectionsTests
    {
        /// <summary>
        /// A value indicating the amount of diference a test may have in the return value.
        /// </summary>
        private const double TestEpsilon = 0.0000000000001d;

        /// <summary>
        /// Gets or sets the test context which provides
        /// information about and functionality for the current test run.
        ///</summary>
        public TestContext TestContext { get; set; }

        /// <summary>
        /// 
        /// </summary>
        /// <param name="context"></param>
        [ClassInitialize]
        public static void ClassInit(TestContext context)
        {
            //MessageBox.Show("TestClassInit");
        }

        /// <summary>
        /// 
        /// </summary>
        [TestInitialize]
        public void Initialize()
        {
            //MessageBox.Show("TestMethodInit");
        }

        /// <summary>
        /// 
        /// </summary>
        [TestCleanup]
        public void Cleanup()
        {
            //MessageBox.Show("TestMethodCleanup");
        }

        /// <summary>
        /// 
        /// </summary>
        [ClassCleanup]
        public static void ClassCleanup()
        {
            //MessageBox.Show("ClassCleanup");
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest1()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest2()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void CirclePointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest3()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void CircularArcSectorPointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest4()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void EllipticSectorPointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest5()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void EllipsePointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest6()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void RectanglePointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest7()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void PolygonPointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest8()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void PolygonSetPointTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest9()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void ContainsTest10()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void RectangleRectangleTest()
        {
            throw new NotImplementedException();
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        public void PointLineSegmentTest()
        {
            // A listing of expected results for specific values.
            var testCases = new Dictionary<(double AX, double AY, double BX, double BY, double X, double Y), bool>
            {
                { (1d, 1d, 2d, 2d, 1d, 1d), true },
                { (1d, 1d, 2d, 2d, 1.5d, 1.5d), true },
                { (1d, 1d, 2d, 2d, 2d, 2d), true },
                { (1d, 1d, 2d, 2d, 1d, 2d), false },
                { (1d, 1d, 2d, 2d, 2d, 1d), false },
            };

            foreach (var testCase in testCases.Keys)
            {
                bool result = Intersections.LineSegmentPointBool(testCase.AX, testCase.AY, testCase.BX, testCase.BY, testCase.X, testCase.Y);
                Assert.AreEqual(testCases[testCase], result);
            }
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        public void LineLineTest()
        {
            // A listing of expected results for specific values.
            var testCases = new Dictionary<(double A1X, double A1Y, double B1X, double B1Y, double A2X, double A2Y, double B2X, double B2Y), (bool, Point2D)>
            {
                // Intersection at one point.
                { (1d, 1d, 2d, 2d, 1d, 1d, 2d, 1d), (true, new Point2D(1d, 1d)) },
                // Intersection at other point.
                { (1d, 1d, 2d, 2d, 2d, 2d, 2d, 1d), (true, new Point2D(2d, 2d)) },
                // Lines intersect, segments do not.
                { (1d, 1d, 2d, 2d, 3d, 2d, 2d, 3d), (false, new Point2D(2.5d, 2.5d)) },
                // One line intersects other at start/end.
                { (1d, 1d, 2d, 2d, 1.5d, 1.5d, 2d, 1d), (true, new Point2D(1.5d, 1.5d)) },
                // One line intersects other at other start/end.
                { (1.5d, 1.5d, 2d, 2d, 1d, 2d, 2d, 1d), (true, new Point2D(1.5d, 1.5d)) },
                // Both line segments share a point.
                { (1.5d, 1.5d, 2d, 2d, 1.5d, 1.5d, 2d, 1d), (true, new Point2D(1.5d, 1.5d)) },
                // Paralell lines. No intersection.
                { (1d, 1d, 2d, 2d, 2d, 1d, 3d, 2d), (false, null) },

                // The following special case intersections need some thought on how to handle. 
                // Coincidental lines. One intersection.
                { (0d, 0d, 1d, 1d, 1d, 1d, 2d, 2d), (false, null) },
                // Same lines. Infinate intersection.
                { (1d, 1d, 2d, 2d, 1d, 1d, 2d, 2d), (false, null) },
                // Same lines, opposite directions. Infinate intersection.
                { (2d, 2d, 1d, 1d, 1d, 1d, 2d, 2d), (false, null) },
                // Same lines, opposite directions. Infinate intersection.
                { (1d, 1d, 2d, 2d, 2d, 2d, 1d, 1d), (false, null) },
            };

            foreach (var testCase in testCases.Keys)
            {
                var result = Intersections.LineLine(testCase.A1X, testCase.A1Y, testCase.B1X, testCase.B1Y, testCase.A2X, testCase.A2Y, testCase.B2X, testCase.B2Y);
                Assert.AreEqual(testCases[testCase], result);
            }
        }

        /// <summary>
        /// 
        /// </summary>
        [TestMethod()]
        [Priority(0)]
        [Owner("Shkyrockett")]
        [TestProperty("Engine", "IntersectionsTests")]
        [Ignore]
        public void PolygonPolygonTest()
        {
            throw new NotImplementedException();
        }
    }
}